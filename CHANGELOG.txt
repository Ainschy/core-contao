##
# Contao Open Source CMS Changelog
# @see http://www.contao.org
##

Version 2.11.beta1 (XXXX-XX-XX)
===============================

r1136 (Improved)
----------------
In a news archive module you can now optionally add a news reader module to
automatically switch to the full article if an item has been selected. This
allows us to use the news archive and news reader on the same page.

r1135 (Change)
--------------
The page language is now determined by the root page language (see #3580).
This has a lot of advantages and a small catch: you will not be able to create
websites without a root page anymore - which was not recommended anyway.

r1129 (Improved)
----------------
Added a nice cross-browser select menu style (progressive enhancement).

r1124 (New)
-----------
Added a "chosen" widget to the templates editor (see #3587).

r1121 (Update)
--------------
Updated CodeMirror to version 2.16 (see #3475).

r1120 (Improvement)
-------------------
Throw a 404 error if a request is mapped to Contao but the URL suffix does not
match (see #2864). This is e.g. the case if Contao is set as ErrorDocument in
the Apache configuration.

r1119 (Improvement)
-------------------
Replaced the rel="lightbox" attribute with data-lightbox="" in all HTML5
templates, because rel="lightbox" is not a valid attribute actually.

r1116 (Improvement)
-------------------
Also embed background images in newsletters and e-mails (see #2659).

r1106 (Change)
--------------
The local configuration files are now generated by the install tool and not
included in the core configuration anymore. Upon a fresh installation, the user
is now automatically redirected to the install tool (see #3586).

r1105 (Change)
--------------
Removed the page properties from the "env" insert tag and added a "page" insert
tag instead.

r1103 (Change)
--------------
Custom TinyMCE configuration files do not have to start with "tiny" anymore
(see #3582).

r1100 (Change)
--------------
Pass the content elements as array to the mod_article template, so custom
output formats can access the elements separately (see #3502).

r1099 (New)
-----------
Added the "getArticle" hook (see #2332).

r1098 (Improvement)
-------------------
Added a cache for getPageDetails() and outsourced the cache functionality into
a separate library (see #3577).

r1093 (New)
-----------
Global style sheet variables can now also be defined in the theme settings
(see #3366). Style sheet variables override theme variables.

r1091 (New)
-----------
Added support for the "placeholder" and "required" attributes in HTML5 forms.
Textareas in HTML5 now support the "maxlength" attribute. Will also add the
"autofocus" attribute in one of the next commits.

r1088 (Improved)
----------------
Added support for the tabindex, placeholder and size attribute to the form
generator (see #1505, #3241 and #2394).

r1087 (New)
-----------
Added a new regexp type to the Widget validator to validate a comma separated
list of e-mail addresses (see #2899).

r1085 (Improvement)
-------------------
Added a rudimentary abstraction layer for messages stored in the session.

r1084 (New)
-----------
Added a hook to add system messages to the back end welcome screen (see #3162).

r1082 (Change)
--------------
Moved the task center to a separate module (might be moved to the ER later).

r1081 (New)
-----------
Added a language switcher that works with the new URLs from r1080. For the
module to work, you need to enable the new feature in the back end settings
and to assign the same alias to all related pages.

r1080 (New)
-----------
According to Google's recommendations for multilingual websites, you can now
optionally add the language string as first URL parameter in addition to
working with different domains (see http://bit.ly/oZfzYK). If you activate the
feature in the back end settings, Contao will generate URLs like

  http://domain.tld/en/about.html
  http://domain.tld/de/about.html

In this context, the default .htaccess file has been improved and should now
execute faster and produce less overhead.

r1078 (Update)
--------------
Updated CodeMirror to version 2.15 (see #3475) and added a fullscreen mode
which you can toggle with F11 (see #3376).

r1076 (Update)
--------------
Updated SimplePie to version 1.2.1 (see #3482).

r1075 (Update)
--------------
Updated the IDNA plugin to version 0.8.0 (see #3481).

r1074 (Update)
--------------
Added MooTools 1.4.1 (see #3456).

r1072 (Improvement)
-------------------
Replaced is_null() with === null (see #3533).

r1071 (Improvement)
-------------------
Mark disabled format definitions in the style sheet editor (see #3368).

r1068 (Removed)
---------------
Finally removed the old one-column back end form layout (see #3534).

r1066 (Change)
--------------
Added the classes "col_first" and "col_last" to the labels of the calendar
and mini-calendar (see #1718).

r1055 (Improvement)
-------------------
Assign the image width to the caption element so long captions do not break
the layout (see #3517).

r1053 (Improvement)
-------------------
Removed unnecessary whitespace from inline tags.

r1052 (Change)
--------------
Changed the input field type in the mod_search_*.html5 templates from "text"
to "search" (see #3380). If you want Webkit browsers to render the field like
a normal text field, use input[type="search"] { -webkit-appearance: none; }.

r1050 (Change)
--------------
Adjusted the back end JavaScript to the changes of r1049. The Request.Contao
class now handles both plain text and JSON responses for reasons of backwards
compatibility with version 2.10.

r1049 (Change)
--------------
Changed the request token system from "one token per request" to "one token
per session" (see #3214). This change will allow to remove most of the
JavaScript routines to update the request token upon Ajax request (they have
not yet been removed though).

r1043 (Fixed)
-------------
Redirect to the login screen upon Ajax requests when the session has expired
(see #3516). This fix required some changes to the Request.Contao JavaScript
class insofar as you have to pass "evalScripts:true" wherever you want the
redirect mechanism to apply. Also, the Request.Mixed class has been replaced
with the Request.Contao class and is not required anymore (it will remain for
reasons of backwards compatibility though).

r1038 (Improvement)
-------------------
Do not link to ?page=1 in the pagination menu but omit the parameter entirely,
so there is no duplicate content being generated (see #3518).

r1031 (Change)
--------------
In the global buttons callback, pass the "class" value instead of the "icon"
value as fourth argument, since there is no icon setting (see #3504).

r1026 (Change)
--------------
Do not copy the date and time of duplicated news and events (see #3463).

r1024 (Change)
--------------
Modify the getInstance() method of the Singleton classes so it uses new self()
instead of e.g. new Config() (see #2969).

r1018 (Improvement)
-------------------
Only show the menu to rebuild the search index in the maintenance module
if the search has not been disabled in the back end settings (see #3425).

r1017 (Update)
--------------
Updated CSS3PIE to version 1.0beta5 (see #3454).

r1014 (Fixed)
-------------
Make all e-mail fields in the database the same size (see #3458).

r1013 (Improvement)
-------------------
Make the Database classes independent from the DB_DRIVER constant (see #3452)
and use factory methods in the driver classes instead.

r1006 (Improvement)
-------------------
Prevent setting the upload path to one of the Contao core folders (see #3418)
so the installation cannot be modified with the file manager.

r1004 (New)
-----------
Added a safe operation mode in which only core modules are loaded. It can be
used to debug an installation or to prevent possible incompatibilities after
an update. It is configurable in the back end.

r1002 (Improvement)
-------------------
Disable all caches if the debug mode is enabled (see #3285). This includes
HTML and CSS minification, the front end page cache and the system cache for
getTemplate(), getImage() and __autoload().

r1001 (Improvement)
-------------------
Make display_errors and error_reporting configurable independently, so error
messages are logged even when they are not displayed (see #3338).
